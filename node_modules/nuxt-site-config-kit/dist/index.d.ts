import { Nuxt } from '@nuxt/schema';
import { SiteConfigStack, SiteConfigInput, SiteConfigResolved } from 'site-config-stack';

declare function initSiteConfig(nuxt?: Nuxt | null): Promise<SiteConfigStack | undefined>;
declare function installNuxtSiteConfig(nuxt?: Nuxt | null): Promise<void>;
declare function getSiteConfigStack(nuxt?: Nuxt | null): SiteConfigStack;
declare function updateSiteConfig(input: SiteConfigInput, nuxt?: Nuxt | null): void;
declare function useSiteConfig(nuxt?: Nuxt | null): SiteConfigResolved;

/**
 * @deprecated No longer used
 */
declare function requireSiteConfig(): void;
declare function assertSiteConfig(module: string, requirements: Partial<Record<keyof SiteConfigResolved, string>>, options?: {
    throwError?: boolean;
}): {
    valid: boolean;
    messages: string[];
};

type AssertionModes = 'prerender' | 'generate' | 'build';
interface ModuleAssertion {
    context: string;
    requirements: Partial<Record<keyof SiteConfigInput, string>>;
}
declare module '@nuxt/schema' {
    interface AppConfigInput {
        /** Theme configuration */
        site?: SiteConfigInput;
    }
    interface Nuxt {
        _siteConfig?: SiteConfigStack;
        _siteConfigAsserts?: Partial<Record<Partial<AssertionModes>, ModuleAssertion[]>>;
    }
}

declare function useNitroOrigin(): string;

export { type AssertionModes, type ModuleAssertion, assertSiteConfig, getSiteConfigStack, initSiteConfig, installNuxtSiteConfig, requireSiteConfig, updateSiteConfig, useNitroOrigin, useSiteConfig };
